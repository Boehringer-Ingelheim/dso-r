<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>dso R companion package • dso</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="dso R companion package">
<meta name="description" content="Collection of functions used with the DevOps dso application.">
<meta property="og:description" content="Collection of functions used with the DevOps dso application.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">dso</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="dso-r-r-companion-package-for-dso">dso-r: R companion package for <a href="https://github.com/Boehringer-Ingelheim/dso" class="external-link">dso</a>
<a class="anchor" aria-label="anchor" href="#dso-r-r-companion-package-for-dso"></a>
</h1></div>
<p><a href="https://github.com/Boehringer-Ingelheim/dso" class="external-link">dso</a> is a command line helper for building reproducible data analysis projects on top of <a href="https://dvc.org" class="external-link">dvc</a>. To learn more about dso, please refer to the <a href="https://boehringer-ingelheim.github.io/dso/" class="external-link">dso documentation</a>. <code>{dso-r}</code> is the R companion package for dso. The purpose of this package is to provide access to files and configuration organized in a dso project.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>For now, it is just possible to install the development version from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"Boehringer-Ingelheim/dso-r"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="typical-usage">Typical usage<a class="anchor" aria-label="anchor" href="#typical-usage"></a>
</h2>
<p>The DSO R-Package provides convenient access to stage parameters from R scripts or notebooks. Using <a href="https://boehringer-ingelheim.github.io/dso-r/reference/read_params.html" class="external-link"><code>read_params</code></a> the <code>params.yaml</code> file of the specified stage is compiled and loaded into a dictionary. The path must be specified relative to the project root – this ensures that the correct stage is found irrespective of the current working directory, as long as it the project root or any subdirectory thereof. Only parameters that are declared as <code>params</code>, <code>dep</code>, or <code>output</code> in dvc.yaml are loaded to ensure that one does not forget to keep the <code>dvc.yaml</code> updated.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">dso</span><span class="op">)</span></span>
<span></span>
<span><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_params.html">read_params</a></span><span class="op">(</span><span class="st">"subfolder/my_stage"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Access parameters</span></span>
<span><span class="va">params</span><span class="op">$</span><span class="va">thresholds</span></span>
<span><span class="va">params</span><span class="op">$</span><span class="va">samplesheet</span></span></code></pre></div>
<p>By default, DSO compiles paths in configuration files to paths relative to each stage (see <a href="https://boehringer-ingelheim.github.io/dso/cli_configuration.html" class="external-link">configuration</a>). From R, you can use <a href="https://boehringer-ingelheim.github.io/dso-r/reference/stage_here.html" class="external-link"><code>stage_here</code></a> to resolve paths relative to the current stage independent of your current working directory. This works, because <code>read_params</code> has stored the path of the current stage in a configuration object that persists in the current R session. <code>stage_here</code> can use this information to resolve relative paths.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">samplesheet</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu">read_csv</span><span class="op">(</span><span class="fu"><a href="reference/stage_here.html">stage_here</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="va">samplesheet</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>When modifying the <code>dvc.yaml</code>, <code>params.in.yaml</code>, or <code>params.yaml</code> files during development, use the <a href="https://boehringer-ingelheim.github.io/dso-r/reference/reload.html" class="external-link"><code>reload(params)</code></a> function to ensure proper application of the changes by rebuilding and reloading the configuration.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/reload.html">reload</a></span><span class="op">(</span><span class="va">params</span><span class="op">)</span></span></code></pre></div>
<p>Creating a stage within the R environment can be performed using <a href="https://boehringer-ingelheim.github.io/dso-r/reference/create_stage.html" class="external-link"><code>create_stage</code></a> and supplying it with the relative path of the stage from project root and a description.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/create_stage.html">create_stage</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"subfolder/my_stage"</span>, description <span class="op">=</span> <span class="st">"This stage does something"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="api-documentation">API documentation<a class="anchor" aria-label="anchor" href="#api-documentation"></a>
</h2>
<p>Please refer to the <a href="https://boehringer-ingelheim.github.io/dso-r/reference/index.html" class="external-link">documentation website</a></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>LGPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing dso</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Daniel Schreyer <br><small class="roles"> Author, maintainer </small>  </li>
<li>Gregor Sturm <br><small class="roles"> Author </small>  </li>
<li>Thomas Schwarzl <br><small class="roles"> Author </small>  </li>
<li>Alexander Peltzer <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Daniel Schreyer, Gregor Sturm, Thomas Schwarzl, Alexander Peltzer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
